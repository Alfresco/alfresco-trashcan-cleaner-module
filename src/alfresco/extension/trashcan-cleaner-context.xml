<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
	<bean name="trashcanCleaner" class="org.springframework.scheduling.quartz.JobDetailBean">
		<property name="jobClass" value="org.alfresco.trashcan.TrashcanCleanerJob" />
		<property name="jobDataAsMap">
			<map>
				<entry key="nodeRegistry" value-ref="nodeService" />
				<entry key="transactionService" value-ref="transactionService" />
				<entry key="authenticationComponent" value-ref="authenticationComponent" />
				<entry key="jobLockService" value-ref="jobLockService" />
			</map>
		</property>
	</bean>

	<bean id="cronTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
		<property name="jobDetail" ref="trashcanCleaner" />
		<!-- Repeat hourly on the half hour -->
		<property name="cronExpression">
			<value>0 30 * * * ?</value>
		</property>
	</bean>
</beans>