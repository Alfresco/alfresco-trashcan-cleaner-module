<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

<bean id="trashcanCleaner" class="org.alfresco.util.CronTriggerBean">
        <property name="jobDetail">
            <bean id="tempFileCleanerJobDetail" class="org.springframework.scheduling.quartz.JobDetailBean">
                <property name="jobClass">
                    <value>org.alfresco.trashcan.TrashcanCleanerJob</value>
                </property>
                <property name="jobDataAsMap">
			<map>
				<entry key="nodeService" value-ref="nodeService" />
				<entry key="transactionService" value-ref="transactionService" />
				<entry key="authenticationComponent" value-ref="authenticationComponent" />
				<entry key="jobLockService" value-ref="jobLockService" />
				<entry key="trashcan.daysToKeep" value="${trashcan.daysToKeep}" />
				<entry key="trashcan.deleteBatchCount" value="${trashcan.deleteBatchCount}" />
			</map>
		</property>
            </bean>
        </property>
        <property name="scheduler">
            <ref bean="schedulerFactory" />
        </property>
        <property name="cronExpression">
		<value>${trashcan.cron}</value>
        </property>
    </bean>
</beans>
